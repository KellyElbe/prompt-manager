<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>热点运营常用prompt - 管理后台</title>
    <link rel="stylesheet" href="prompt-manager-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 顶部导航栏 -->
    <header class="header">
        <div class="header-container">
            <div class="header-left">
                <h1 class="logo">
                    <span class="logo-icon">🔥</span>
                    热点运营常用prompt - 管理后台
                </h1>
            </div>
            <div class="header-center">
                <!-- 搜索功能已移除 -->
            </div>
            <div class="header-right">
                <button class="btn btn-primary" id="addPromptBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    添加 Prompt
                </button>
                <button class="btn btn-secondary" id="viewFrontendBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                    查看前台
                </button>
            </div>
        </div>
    </header>

    <!-- 主要内容区域 -->
    <main class="main-container">
        <!-- 左侧导航栏 -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-header">
                    <h3 class="sidebar-title">分类</h3>
                    <div class="category-actions">
                        <button class="btn-icon" id="addCategoryBtn" title="添加分类">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </button>
                        <button class="btn-icon" id="renameCategoryBtn" title="重命名分类">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="btn-icon danger" id="deleteCategoryBtn" title="删除分类">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3,6 5,6 21,6"></polyline>
                                <path d="M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <nav class="category-nav">
                    <button class="category-btn active" data-category="all">
                        <span class="category-icon">📝</span>
                        <span class="category-name">全部</span>
                        <span class="category-count">(<span id="countAll">0</span>)</span>
                    </button>
                    <button class="category-btn" data-category="text" data-custom="true" draggable="true">
                        <span class="category-icon">✍️</span>
                        <span class="category-name">生文</span>
                        <span class="category-count">(<span id="countText">0</span>)</span>
                    </button>
                    <button class="category-btn" data-category="image" data-custom="true" draggable="true">
                        <span class="category-icon">🎨</span>
                        <span class="category-name">生图</span>
                        <span class="category-count">(<span id="countImage">0</span>)</span>
                    </button>
                    <button class="category-btn" data-category="video" data-custom="true" draggable="true">
                        <span class="category-icon">🎬</span>
                        <span class="category-name">生视频</span>
                        <span class="category-count">(<span id="countVideo">0</span>)</span>
                    </button>
                    <button class="category-btn" data-category="code" data-custom="true" draggable="true">
                        <span class="category-icon">💻</span>
                        <span class="category-name">代码</span>
                        <span class="category-count">(<span id="countCode">0</span>)</span>
                    </button>
                    <button class="category-btn" data-category="other" data-custom="true" draggable="true">
                        <span class="category-icon">🔧</span>
                        <span class="category-name">其他</span>
                        <span class="category-count">(<span id="countOther">0</span>)</span>
                    </button>
                </nav>
                <div class="category-hint">
                    <small>💡 双击自定义分类可选择编辑</small>
                </div>
            </div>
        </aside>

        <!-- 主内容区域 -->
        <section class="content-area">
            <!-- 工具栏 -->
            <div class="toolbar">
                <div class="toolbar-left">
                    <span class="result-count" id="resultCount">共 0 个 Prompt</span>
                </div>
                <div class="toolbar-right">
                    <div class="sort-container">
                        <label for="sortSelect">排序：</label>
                        <select id="sortSelect" class="sort-select">
                            <option value="created">创建时间</option>
                            <option value="updated">更新时间</option>
                            <option value="name">名称</option>
                        </select>
                    </div>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="grid" title="网格视图">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                            </svg>
                        </button>
                        <button class="view-btn" data-view="list" title="列表视图">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="8" y1="6" x2="21" y2="6"></line>
                                <line x1="8" y1="12" x2="21" y2="12"></line>
                                <line x1="8" y1="18" x2="21" y2="18"></line>
                                <line x1="3" y1="6" x2="3.01" y2="6"></line>
                                <line x1="3" y1="12" x2="3.01" y2="12"></line>
                                <line x1="3" y1="18" x2="3.01" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Prompt 展示区域 -->
            <div class="prompts-container" id="promptsContainer">
                <!-- Prompt 卡片将通过 JavaScript 动态生成 -->
            </div>

            <!-- 空状态 -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-icon">📝</div>
                <h3>还没有 Prompt</h3>
                <p>点击"添加 Prompt"按钮开始创建你的第一个 Prompt</p>
                <button class="btn btn-primary" onclick="openAddPromptModal()">添加 Prompt</button>
            </div>
        </section>

        <!-- 右侧详情面板 -->
        <aside class="detail-panel" id="detailPanel">
            <div class="detail-header">
                <h3 class="detail-title" id="detailTitle">选择一个 Prompt</h3>
                <button class="detail-close" id="detailClose">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="detail-content" id="detailContent">
                <div class="detail-placeholder">
                    <div class="placeholder-icon">👈</div>
                    <p>点击左侧的 Prompt 卡片查看详细信息</p>
                </div>
            </div>
        </aside>
    </main>

    <!-- 添加/编辑 Prompt 模态框 -->
    <div class="modal-overlay" id="promptModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">添加 Prompt</h3>
                <button class="modal-close" id="modalClose">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <form class="modal-form" id="promptForm">
                <div class="form-group">
                    <label for="promptName">名称 *</label>
                    <input type="text" id="promptName" name="name" required placeholder="输入 Prompt 名称">
                </div>
                <div class="form-group">
                    <label for="promptCategory">分类 *</label>
                    <select id="promptCategory" name="category" required>
                        <option value="">选择分类</option>
                        <option value="text">生文</option>
                        <option value="image">生图</option>
                        <option value="video">生视频</option>
                        <option value="code">代码</option>
                        <option value="other">其他</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="promptContent">Prompt 内容 *</label>
                    <textarea id="promptContent" name="content" required placeholder="输入 Prompt 内容..." rows="8"></textarea>
                </div>
                <div class="form-group">
                    <label for="promptDescription">描述</label>
                    <textarea id="promptDescription" name="description" placeholder="简要描述这个 Prompt 的用途..." rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="promptTags">标签</label>
                    <input type="text" id="promptTags" name="tags" placeholder="输入标签，用逗号分隔">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">取消</button>
                    <button type="submit" class="btn btn-primary" id="saveBtn">保存</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 添加分类模态框 -->
    <div class="modal-overlay" id="categoryModal">
        <div class="modal-container small">
            <div class="modal-header">
                <h3 class="modal-title">添加分类</h3>
                <button class="modal-close" id="categoryModalClose">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <form class="modal-form" id="categoryForm">
                <div class="form-group">
                    <label for="categoryName">分类名称 *</label>
                    <input type="text" id="categoryName" name="name" required placeholder="输入分类名称">
                </div>
                <div class="form-group">
                    <label for="categoryIcon">图标</label>
                    <input type="text" id="categoryIcon" name="icon" placeholder="输入emoji图标，如：📱">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelCategoryBtn">取消</button>
                    <button type="submit" class="btn btn-primary" id="saveCategoryBtn">保存</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 复制成功提示 -->
    <div class="toast" id="copyToast">
        <div class="toast-content">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20,6 9,17 4,12"></polyline>
            </svg>
            <span>已复制到剪贴板</span>
        </div>
    </div>

    <!-- 确认删除模态框 -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal-container small">
            <div class="modal-header">
                <h3 class="modal-title">确认删除</h3>
            </div>
            <div class="modal-body">
                <p>确定要删除这个 Prompt 吗？此操作无法撤销。</p>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="cancelDeleteBtn">取消</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">删除</button>
            </div>
        </div>
    </div>

    <!-- 重命名分类模态框 -->
    <div class="modal-overlay" id="renameCategoryModal">
        <div class="modal-container small">
            <div class="modal-header">
                <h3 class="modal-title">重命名分类</h3>
                <button class="modal-close" id="renameCategoryModalClose">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <form class="modal-form" id="renameCategoryForm">
                <div class="form-group">
                    <label for="renameCategoryName">分类名称 *</label>
                    <input type="text" id="renameCategoryName" name="name" required placeholder="输入新的分类名称">
                </div>
                <div class="form-group">
                    <label for="renameCategoryIcon">图标</label>
                    <input type="text" id="renameCategoryIcon" name="icon" placeholder="输入emoji图标，如：📱">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelRenameCategoryBtn">取消</button>
                    <button type="submit" class="btn btn-primary" id="saveRenameCategoryBtn">保存</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 确认删除分类模态框 -->
    <div class="modal-overlay" id="deleteCategoryModal">
        <div class="modal-container small">
            <div class="modal-header">
                <h3 class="modal-title">确认删除分类</h3>
            </div>
            <div class="modal-body">
                <p id="deleteCategoryMessage">确定要删除这个分类吗？</p>
                <p class="warning-text">注意：删除分类后，该分类下的所有 Prompt 将被移动到"其他"分类。</p>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="cancelDeleteCategoryBtn">取消</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteCategoryBtn">删除</button>
            </div>
        </div>
    </div>

    <script src="prompt-manager-admin-script.js"></script>
</body>
</html>